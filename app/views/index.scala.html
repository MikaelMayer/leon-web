@(exGroups: List[(String, List[leon.web.models.Example])], default: leon.web.models.Example, prefix: String, url: String)(implicit request: RequestHeader)

@main("Leon Online", prefix, url) {
  <div id="allcontent">
    <div id="title" class="std-background">
    <h1>Leon</h1>
      <div class="toolbox">
        <a id="button-save" href="#"><span><i class="icon-save"></i> Save</span></a>
        <a id="button-undo" href="#"><span><i class="icon-undo"></i> Undo</span></a>
        <a id="button-redo" href="#"><span><i class="icon-repeat"></i> Redo</span></a>
        <a id="button-permalink" href="#"><span><i class="icon-link"></i> Link</span>
        </a>
        <div id="permalink-value">
            <input type="text" value="" />
            <a id="button-permalink-close" href="#"><i class="icon-remove"></i></a>
        </div>
        <a id="button-menu" href="#"><span><i class="icon-list-alt"></i> Menu</span></a>
        <a id="button-console" href="#" class="disabled"><span><i class="icon-comments-alt"></i> Console</span></a>
      </div>
    </div>
    <script>
        var _leon_websocket_url = "@leon.web.controllers.routes.Application.openConsole().webSocketURL()";
    </script>

    <div class="container-fluid">
          <div class="row-fluid">
                <div id="codecolumn" class="span8">
                  <form id="leoninput" method="POST" action="">
                    <div id="codebox">@default.code</div>
                  </form>
                </div>
                <div id="actionscolumn" class="span4">
                  <div id="selectcolumn" class="action">
                    <h3 class="std-background"><i class="icon-upload"></i> Load an Program:</h3>
                    <select id="example-loader" name="codeexample" prefix="@prefix">
                      <option value="">-- Select a Program --</option>
                      @exGroups.collect{ case (group, es) =>
                        <option value="" disabled="disabled">@group</option>
                        @es.zipWithIndex.collect { case (ex, i) =>
                          <option group="@group" id="@i">&nbsp;&nbsp;@ex.title</option>
                        }
                      }
                    </select>

                  </div>

                  <div id="overview" class="action">
                    <h3 class="std-background"><i class="icon-search"></i> Verification</h3>
                    <table id="overview_table">
                    </table>
                  </div>
                  <div class="action" id="console-action">
                      <h3 class="std-background"><i class="icon-comments-alt"></i> Console:</h3>
                      <div id="console"></div>
                  </div>

                  <div id="notifications">
                  </div>
                </div>
          </div>
    </div>



    <ul id="editorMenu">
    </ul>
    <div id="searchDialog" title="Synthesis" cid="0">
        <p>
            Leon is currently searching for a solution to your synthesis problem...
        </p>
        <p>
            <div id="searchProgress"><div class="progress-label">Searching...</div></div>
        </p>
    </div>
    <div id="verifyDialog" title="Verification">
        <p>
            Leon verifies the validity all the verification conditions found in the selected function.
        </p>
            <div id="verifyProgress"><div class="progress-label">Verifying...</div></div>
        <div id="verifyResults">
            <table class="allResults">
                <thead>
                    <tr>
                        <th>Function</th>
                        <th>Kind</th>
                        <th>Result</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>
    <div id="errorDialog" title="Error" class="error">
        <p>
            Leon failed to contact the mothership :(
        </p>

        <p>
            Please check that your internet connection allows traffic on port 9000.
        </p>
    </div>
  </div>
}
